<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>æ‰€æœ‰è¨‚å–®è³‡æ–™</title>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script
	src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.13.5/css/dataTables.jqueryui.min.css" />
<style>
@charset "UTF-8";

/* å¼•å…¥ Google Fonts å­—å‹ */
@import
	url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&display=swap')
	;

html, body {
	font-family: 'Zen Maru Gothic', sans-serif;
	font-weight: bold;
	margin: 0;
	padding: 0;
	background-color: #F8F9FA;
	color: #334252;
	height: 100%; /* ç¢ºä¿æ•´å€‹é é¢ä½”æ»¿çª—å£é«˜åº¦ */
	display: flex;
	flex-direction: column; /* è®“å…§å®¹å€å’Œ footer å‚ç›´æ’åˆ— */
}

main {
	flex-grow: 1; /* ä¸»å…§å®¹å€åŸŸè‡ªå‹•å¡«å……å‰©é¤˜ç©ºé–“ */
	padding-bottom: 20px; /* èˆ‡ footer ä¿æŒé–“è· */
}

/********************** Header å€åŸŸ **********************/
nav.navbar {
	background-color: #334252;
	color: white;
	padding: 15px 0;
	text-align: center;
}

nav.navbar h2 {
	margin: 0;
	font-size: 24px;
}

nav.navbar h3 a {
	color: #FFD700;
	text-decoration: none;
}

/* æ¨™é ­æ¨£å¼ */
.order-status-header {
	background-color: #CCCCFF;
	cursor: pointer;
	font-weight: bold;
	padding: 10px; /* å…§éƒ¨ç•™ç™½ */
	text-align: center;
	width: 80%; /* å¯¬åº¦è¨­ç‚º 80% */
	margin: 0 auto; /* å·¦å³ç½®ä¸­ */
	box-sizing: border-box; /* ç¢ºä¿ padding ä¸å½±éŸ¿å¯¬åº¦ */
	border: 0.5px solid #f0f8ff; /* ç™½è‰²æ¡†ç·š */
}

.order-status-header:first-child {
	border-top-left-radius: 10px; /* å·¦ä¸Šè§’åœ“è§’ */
	border-top-right-radius: 10px; /* å³ä¸Šè§’åœ“è§’ */
}

.order-status-header:nth-of-type(3) {
	border-bottom-left-radius: 10px; /* å·¦ä¸‹è§’ç„¡åœ“è§’ */
	border-bottom-right-radius: 10px; /* å³ä¸‹è§’ç„¡åœ“è§’ */
}

.order-status-header:hover {
	background-color: #AAB5FF;
}

table.order-table {
	margin: 0 auto; /* å·¦å³ç½®ä¸­ */
	border-collapse: collapse; /* ç¢ºä¿é‚Šæ¡†é€£æ¥ */
}

table {
	width: 100%;
	margin: 20px auto;
	border-collapse: collapse;
	font-size: 14px;
	background: #ffffff;
	box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
	border-radius: 10px;
	overflow: hidden;
}

thead {
	background-color: #CCCCFF;
	color: #334252;
	font-weight: bold;
}

th, td {
	padding: 10px;
	text-align: center;
	border: 1px solid #f0f8ff;
}

tbody tr:hover {
	background-color: #f0f8ff;
}

footer {
	background-color: #334252;
	color: white;
	text-align: center;
	padding: 10px 0;
	position: relative;
	bottom: 0;
	width: 100%;
	margin-top: 20px; /* èˆ‡å…§å®¹ç•™ç™½ */
}

/* .order-status-header { */
/* 	cursor: pointer; */
/* 	font-weight: bold; */
/* 	background-color: #CCCCFF; */
/* } */

/* .order-status-header:hover { */
/* 	background-color: #AAB5FF; */
/* } */
.product-row {
	background-color: #FFFFFF;
}

.product-row:hover {
	background-color: #F0F8FF;
}

.product-details {
	display: flex;
	justify-content: center; /* è®“ä¸‰å€‹å…ƒç´ é è¿‘ä¸­é–“æ’åˆ— */
	align-items: center;
	text-align: center;
	margin-bottom: 10px; /* æ¸›å°‘æ•´é«”çš„ä¸Šä¸‹è·é›¢ */
	gap: 20px; /* æ§åˆ¶æ¯å€‹å…ƒç´ ä¹‹é–“çš„è·é›¢ */
}

.product-details p {
	margin: 0; /* ç§»é™¤æ®µè½é è¨­çš„å¤–é‚Šè· */
	padding: 0;
	font-size: 14px; /* æ§åˆ¶å­—å‹å¤§å° */
	color: #334252;
	font-weight: bold; /* è®“æ–‡å­—æ›´æ¸…æ™° */
}

.product-details div {
	/* è®“æ¨™ç±¤èˆ‡å…§å®¹æ°´å¹³æ’åˆ— */
	align-items: center; /* å‚ç›´å±…ä¸­ */
	gap: 5px; /* æ¨™ç±¤èˆ‡å…§å®¹ä¹‹é–“çš„é–“è· */
}

.fnc_button {
	padding: 10px 20px;
	font-size: 16px;
	background-color: #334252;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	transition: background-color 0.3s ease, transform 0.2s ease;
}

.fnc_button:hover {
	background-color: #556B8D;
	transform: scale(1.05);
}

.fnc_button:active {
	background-color: #2C3A48;
	transform: scale(0.95);
}

/* æŒ‰éˆ•æ¨£å¼ */
.view-images-btn, input[type="submit"] {
	padding: 8px 15px;
	font-size: 14px;
	color: #ffffff;
	background-color: #334252;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	transition: background-color 0.3s ease, transform 0.2s ease;
}

.view-images-btn:hover, input[type="submit"]:hover {
	background-color: #556B8D;
	transform: scale(1.05);
}

.view-images-btn:active, input[type="submit"]:active {
	background-color: #2C3A48;
	transform: scale(0.95);
}

.btn-action {
	padding: 8px 15px;
	font-size: 14px;
	color: #ffffff;
	background-color: #334252;
	border: none;
	border-radius: 5px;
	cursor: pointer;
	transition: background-color 0.3s ease, transform 0.2s ease;
}

.btn-action:hover {
	background-color: #556B8D;
	transform: scale(1.05);
}

.navbar-btn {
    margin-left: auto; /* å°‡æŒ‰éˆ•æ¨åˆ°æœ€å³é‚Š */
    margin-right: 20px; /* å³é‚Šé–“è· */
    background-color: #55687d; /* æŒ‰éˆ•èƒŒæ™¯é¡è‰² */
    color: #FFFFFF; /* æ–‡å­—é¡è‰² */
    border: 1px solid #334252; /* é‚Šæ¡†é¡è‰² */
    padding: 8px 16px; /* å…§é‚Šè· */
    font-size: 14px; /* å­—é«”å¤§å° */
    font-weight: bold; /* å­—é«”åŠ ç²— */
    border-radius: 5px; /* åœ“è§’é‚Šæ¡† */
    cursor: pointer; /* é¼ æ¨™æŒ‡é‡ */
    transition: background-color 0.3s ease, color 0.3s ease; /* éæ¸¡æ•ˆæœ */
}

.navbar-btn:hover {
    background-color: #556B8D; /* æ»‘é¼ æ‡¸åœæ™‚çš„èƒŒæ™¯é¡è‰² */
    color: #FFFFFF; /* æ»‘é¼ æ‡¸åœæ™‚çš„æ–‡å­—é¡è‰² */
    border-color: #556B8D; /* é‚Šæ¡†é¡è‰² */
}
</style>
</head>
<body>
	<!-- Header -->
	<nav
		class="navbar navbar-expand-md navbar-dark bg-success fixed-top justify-content-center">
		<div align="center">
			<h2>æ‰€æœ‰è¨‚å–®è³‡æ–™ï¼ˆæŒ‰ä»˜æ¬¾ç‹€æ…‹åˆ†çµ„ï¼‰</h2>
			<h3>
				<a class="navbar-btn" th:href="@{/back_end/index}" style="margin-right: 15px;">ç®¡ç†å“¡å¾Œå°é¦–é </a> 
				<a class="logout-btn navbar-btn" onclick="window.location.href='/back_end/logout'">ç™»å‡º</a>
			</h3>
		</div>
	</nav>

	<!-- ä¸€éµå±•é–‹/æ”¶åˆæŒ‰éˆ• -->
	<div style="text-align: center; margin: 20px 0 40px 0;">
		<a id="toggle-all-btn" class="btn btn-primary fnc_button">ä¸€éµå±•é–‹</a> <a
			th:href="@{/pdo/listAllProductsOrders}" class="fnc_button">æŒ‰è¨‚å–®ç‹€æ…‹åˆ†çµ„</a>
	</div>

	<main class="container">
		<!-- è¨‚å–®ç‹€æ…‹: é€²è¡Œä¸­ -->
		<div class="order-status-header" data-target="#status-0"
			style="cursor: pointer; font-weight: bold; background-color: #CCCCFF;">ğŸ“¦
			ä»˜æ¬¾ç‹€æ…‹ï¼šæœªä»˜æ¬¾</div>
		<table id="status-0" class="order-table table table-bordered"
			style="display: none; width: 80%">
			<thead>
				<tr style="background-color: #EFEFEF;">
					<th>æª¢è¦–å•†å“ç´°é …</th>
					<th>è¨‚å–®ç·¨è™Ÿ</th>
					<th>æœƒå“¡ç·¨è™Ÿ</th>
					<th>è¨‚å–®å»ºç«‹æ—¥æœŸ</th>
					<th>è¨‚å–®ç¸½é‡‘é¡</th>
					<th>è¨‚å–®ç‹€æ…‹</th>
					<th>é…é€åœ°å€</th>
					<th>é…é€æ–¹å¼</th>
					<th>é…é€ç‹€æ…‹</th>
					<th>è¨‚å–®è©•åˆ†</th>
					<th>è©•è«–</th>
					<th>è¨‚å–®ä¿®æ”¹</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="pdo : ${pdoList}" th:if=" ${pdo.paymentStatus == '0'}">
					<td><a th:href="@{/pdoItem/listPdoItems(pdoId=${pdo.pdoId})}"
						class="btn btn-info btn-action">æª¢è¦–</a></td>
					<td th:text="${pdo.pdoId}"></td>
					<td th:text="${pdo.mebVO.mebId}"></td>
					<td th:text="${#dates.format(pdo.pdoDate, 'yyyy-MM-dd HH:mm')}"></td>
					<td th:text="${pdo.pdTotalPrice}"></td>
					<td	th:text="${pdo.pdoStatus == '0' ? 'é€²è¡Œä¸­' : (pdo.pdoStatus == '1' ? 'å·²å®Œæˆ' : 'å·²å–æ¶ˆ')}"></td>
					<td th:text="${pdo.shippingAddr}"></td>
					<td th:text="${pdo.shippingMethod == '0' ? 'å®…é…' : 'è¶…å•†å–è²¨'}"></td>
					<td th:text="${pdo.shippingStatus == '0' ? 'ç†è²¨ä¸­' : pdo.shippingStatus == '1' ? 'é…é€ä¸­' : 'å·²é…é”'}"></td>
					<td
						th:text="${pdo.pdoReviewRate != null ? pdo.pdoReviewRate : 'æœªè©•åˆ†'}"></td>
					<td
						th:text="${pdo.pdoReviewComm != null ? pdo.pdoReviewComm : 'æœªè©•è«–'}"></td>
					<td>
						<form method="post" th:action="@{/pdo/getOnePdo_For_Update}">
							<input type="hidden" name="pdoId" th:value="${pdo.pdoId}">
							<button type="submit" class="btn-action">ä¿®æ”¹</button>
						</form>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- è¨‚å–®ç‹€æ…‹: å·²å®Œæˆ -->
		<div class="order-status-header" data-target="#status-1"
			style="cursor: pointer; font-weight: bold; background-color: #CCCCFF;">âœ…
			ä»˜æ¬¾ç‹€æ…‹ï¼šå·²ä»˜æ¬¾</div>
		<table id="status-1" class="order-table table table-bordered"
			style="display: none; width: 80%">
			<thead>
				<tr style="background-color: #EFEFEF;">
					<th>æª¢è¦–å•†å“ç´°é …</th>
					<th>è¨‚å–®ç·¨è™Ÿ</th>
					<th>æœƒå“¡ç·¨è™Ÿ</th>
					<th>è¨‚å–®å»ºç«‹æ—¥æœŸ</th>
					<th>è¨‚å–®ç¸½é‡‘é¡</th>
					<th>ä»˜æ¬¾ç‹€æ…‹</th>
					<th>é…é€åœ°å€</th>
					<th>é…é€æ–¹å¼</th>
					<th>é…é€ç‹€æ…‹</th>
					<th>è¨‚å–®è©•åˆ†</th>
					<th>è©•è«–</th>
					<th>è¨‚å–®ä¿®æ”¹</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="pdo : ${pdoList}" th:if="${pdo.paymentStatus == '1'}">
					<td><a th:href="@{/pdoItem/listPdoItems(pdoId=${pdo.pdoId})}"
						class="btn btn-info btn-action">æª¢è¦–</a></td>
					<td th:text="${pdo.pdoId}"></td>
					<td th:text="${pdo.mebVO.mebId}"></td>
					<td th:text="${#dates.format(pdo.pdoDate, 'yyyy-MM-dd HH:mm')}"></td>
					<td th:text="${pdo.pdTotalPrice}"></td>
					<td	th:text="${pdo.pdoStatus == '0' ? 'é€²è¡Œä¸­' : (pdo.pdoStatus == '1' ? 'å·²å®Œæˆ' : 'å·²å–æ¶ˆ')}"></td>
					<td th:text="${pdo.shippingAddr}"></td>
					<td th:text="${pdo.shippingMethod == '0' ? 'å®…é…' : 'è¶…å•†å–è²¨'}"></td>
					<td th:text="${pdo.shippingStatus == '0' ? 'ç†è²¨ä¸­' : pdo.shippingStatus == '1' ? 'é…é€ä¸­' : 'å·²é…é”'}"></td>
					<td
						th:text="${pdo.pdoReviewRate != null ? pdo.pdoReviewRate : 'æœªè©•åˆ†'}"></td>
					<td
						th:text="${pdo.pdoReviewComm != null ? pdo.pdoReviewComm : 'æœªè©•è«–'}"></td>
					<td>
						<form method="post" th:action="@{/pdo/getOnePdo_For_Update}">
							<input type="hidden" name="pdoId" th:value="${pdo.pdoId}">
							<button type="submit" class="btn-action">ä¿®æ”¹</button>
						</form>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- è¨‚å–®ç‹€æ…‹: å·²å–æ¶ˆ -->
		<div class="order-status-header" data-target="#status-2"
			style="cursor: pointer; font-weight: bold; background-color: #CCCCFF;">â›”
			ä»˜æ¬¾ç‹€æ…‹ï¼šå·²é€€æ¬¾</div>
		<table id="status-2" class="order-table table table-bordered"
			style="display: none; width: 80%">
			<thead>
				<tr style="background-color: #EFEFEF;">
					<th>æª¢è¦–å•†å“ç´°é …</th>
					<th>è¨‚å–®ç·¨è™Ÿ</th>
					<th>æœƒå“¡ç·¨è™Ÿ</th>
					<th>è¨‚å–®å»ºç«‹æ—¥æœŸ</th>
					<th>è¨‚å–®ç¸½é‡‘é¡</th>
					<th>ä»˜æ¬¾ç‹€æ…‹</th>
					<th>é…é€åœ°å€</th>
					<th>é…é€æ–¹å¼</th>
					<th>é…é€ç‹€æ…‹</th>
					<th>è¨‚å–®è©•åˆ†</th>
					<th>è©•è«–</th>
					<th>è¨‚å–®ä¿®æ”¹</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="pdo : ${pdoList}" th:if="${pdo.paymentStatus == '2'}">
					<td><a th:href="@{/pdoItem/listPdoItems(pdoId=${pdo.pdoId})}"
						class="btn btn-info btn-action">æª¢è¦–</a></td>
					<td th:text="${pdo.pdoId}"></td>
					<td th:text="${pdo.mebVO.mebId}"></td>
					<td th:text="${#dates.format(pdo.pdoDate, 'yyyy-MM-dd HH:mm')}"></td>
					<td th:text="${pdo.pdTotalPrice}"></td>
					<td	th:text="${pdo.pdoStatus == '0' ? 'é€²è¡Œä¸­' : (pdo.pdoStatus == '1' ? 'å·²å®Œæˆ' : 'å·²å–æ¶ˆ')}"></td>
					<td th:text="${pdo.shippingAddr}"></td>
					<td th:text="${pdo.shippingMethod == '0' ? 'å®…é…' : 'è¶…å•†å–è²¨'}"></td>
					<td th:text="${pdo.shippingStatus == '0' ? 'ç†è²¨ä¸­' : pdo.shippingStatus == '1' ? 'é…é€ä¸­' : 'å·²é…é”'}"></td>
					<td
						th:text="${pdo.pdoReviewRate != null ? pdo.pdoReviewRate : 'æœªè©•åˆ†'}"></td>
					<td
						th:text="${pdo.pdoReviewComm != null ? pdo.pdoReviewComm : 'æœªè©•è«–'}"></td>
					<td>
						<form method="post" th:action="@{/pdo/getOnePdo_For_Update}">
							<input type="hidden" name="pdoId" th:value="${pdo.pdoId}">
							<button type="submit" class="btn-action">ä¿®æ”¹</button>
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</main>

	<!-- Footer -->
	<footer>
		<p>Copyright Â© 2024 ServPET å¯µå¯µå”¯è¹Ÿ All Rights Reserved.</p>
	</footer>

	<!-- JavaScript: æ»‘å‹•æ•ˆæœ -->
	<script>
		$(document).ready(function() {
			// ç›£è½åˆ†é¡è¡Œçš„é»æ“Šäº‹ä»¶
			$(".order-status-header").on("click", function() {
				const targetId = $(this).data("target"); // å–å¾—ç›®æ¨™è¡¨æ ¼çš„ ID
				const relatedRows = $(targetId); // é¸ä¸­ç›®æ¨™è¡¨æ ¼

				// åˆ‡æ›é¡¯ç¤º/éš±è—
				if (relatedRows.is(":visible")) {
					relatedRows.hide(); // éš±è—
				} else {
					relatedRows.show(); // é¡¯ç¤º
				}
			});

			// ä¸€éµå±•é–‹/æ”¶åˆæŒ‰éˆ•
			let allExpanded = false; // å…¨éƒ¨å±•é–‹/æ”¶åˆçš„ç‹€æ…‹
			$("#toggle-all-btn").on("click", function() {
				const allTables = $("table.order-table"); // é¸ä¸­æ‰€æœ‰è¡¨æ ¼

				if (allExpanded) {
					allTables.hide(); // å…¨éƒ¨æ”¶åˆ
					$(this).text("ä¸€éµå±•é–‹"); // æ›´æ–°æŒ‰éˆ•æ–‡å­—
				} else {
					allTables.show(); // å…¨éƒ¨å±•é–‹
					$(this).text("ä¸€éµæ”¶åˆ"); // æ›´æ–°æŒ‰éˆ•æ–‡å­—
				}

				allExpanded = !allExpanded; // åˆ‡æ›ç‹€æ…‹
			});
		});
	</script>
</body>
</html>
